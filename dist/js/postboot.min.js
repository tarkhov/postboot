"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.closest=e.closest||function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null},e.parent=function(e){for(var t=this.parentElement;t;){if(t.matches(e))return t;t=t.parentElement}return null},e.parentAll=function(e,t){for(var n=this.parentElement,r=[];n;){if(t&&n.matches(t))return r;n.matches(e)&&r.push(n),n=n.parentElement}return null},e.offset=function(){var e=this.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},e.position=function(){return{left:this.offsetLeft,top:this.offsetTop}}}(Element.prototype);var Util=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createEvent",value:function(e,t){var n=void 0;return window.CustomEvent?n=new CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),n}},{key:"getSelector",value:function(e){var t=void 0;return e.hasAttribute("data-target")&&(t=e.getAttribute("data-target")),!t&&e.hasAttribute("href")&&(t=e.getAttribute("href")),t&&"#"!==t?t:null}},{key:"getParentSelector",value:function(e){var t=null;return e.hasAttribute("data-parent")&&(t=e.getAttribute("data-parent")),t}}]),e}();_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CheckboxArea=function(){function n(e){_classCallCheck(this,n),this.element=e}return _createClass(n,null,[{key:"KEY",get:function(){return"checkboxArea"}},{key:"EVENT_KEY",get:function(){return"CheckboxArea"}},{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:n.EVENT_KEY+"Activate",DEACTIVATE:n.EVENT_KEY+"Deactivate"})}},{key:"Selector",get:function(){return Object.freeze({DATA_TOGGLE:'[data-toggle="checkbox-area"]'})}}]),_createClass(n,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.classList.contains(n.ClassName.DISABLED)){var e=this.element.classList.contains(n.ClassName.ACTIVE);this.element.classList.toggle(n.ClassName.ACTIVE),this.element.setAttribute("aria-checked",!e);var t=Util.createEvent(e?n.Event.DEACTIVATE:n.Event.ACTIVATE);this.element.dispatchEvent(t)}}}],[{key:"init",value:function(e){var t=null;return e.hasOwnProperty(n.KEY)&&(t=e[n.KEY]),t||(t=new n(e),e[n.KEY]=t),t}}]),n}();function checkboxArea(e){return CheckboxArea.init(e)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.CheckboxArea||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(CheckboxArea.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){checkboxArea(e).addEventListeners()})});_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RadioArea=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||r.getParent(e)}return _createClass(r,null,[{key:"KEY",get:function(){return"radioArea"}},{key:"CHECKED_KEY",get:function(){return"checked-area"}},{key:"EVENT_KEY",get:function(){return"RadioArea"}},{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({parent:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:r.EVENT_KEY+"Activate",DEACTIVATE:r.EVENT_KEY+"Deactivate"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".active",CHECKED:"["+r.CHECKED_KEY+"]",DATA_TOGGLE:'[data-toggle="radio-area"]'})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.classList.contains(r.ClassName.DISABLED)&&!this.element.classList.contains(r.ClassName.ACTIVE)){var e=(this.parent||document).querySelector(r.Selector.CHECKED);if(e){e.classList.remove(r.ClassName.ACTIVE),e.setAttribute("aria-checked","false"),e.removeAttribute(r.CHECKED_KEY);var t=Util.createEvent(r.Event.DEACTIVATE);e.dispatchEvent(t)}this.element.classList.add(r.ClassName.ACTIVE),this.element.setAttribute("aria-checked","true"),this.element.setAttribute(r.CHECKED_KEY,"");var n=Util.createEvent(r.Event.ACTIVATE);this.element.dispatchEvent(n)}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}},{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(r.KEY)&&(n=e[r.KEY]),n||(n=new r(e,t),e[r.KEY]=n),n}}]),r}();function radioArea(e,t){return RadioArea.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.RadioArea||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(RadioArea.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){radioArea(e).addEventListeners()})});_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CheckboxButton=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.input=this.config.input||this.element.querySelector(r.Selector.INPUT)}return _createClass(r,null,[{key:"KEY",get:function(){return"checkboxButton"}},{key:"EVENT_KEY",get:function(){return"CheckboxButton"}},{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({input:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:r.EVENT_KEY+"Activate",DEACTIVATE:r.EVENT_KEY+"Deactivate"})}},{key:"Selector",get:function(){return Object.freeze({DATA_TOGGLE:'[data-toggle="checkbox-button"]',INPUT:"input"})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.disabled&&!this.element.classList.contains(r.ClassName.DISABLED)){var e=this.element.classList.contains(r.ClassName.ACTIVE);if(this.input){if(this.input.disabled||this.input.classList.contains(r.ClassName.DISABLED))return;this.input.checked=!e,this.input.dispatchEvent(new Event("change")),this.input.focus()}this.element.classList.toggle(r.ClassName.ACTIVE),this.element.setAttribute("aria-pressed",!e);var t=Util.createEvent(e?r.Event.DEACTIVATE:r.Event.ACTIVATE);this.element.dispatchEvent(t)}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(r.KEY)&&(n=e[r.KEY]),n||(n=new r(e,t),e[r.KEY]=n),n}}]),r}();function checkboxButton(e,t){return CheckboxButton.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.CheckboxButton||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(CheckboxButton.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){checkboxButton(e).addEventListeners()})});_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RadioButton=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||r.getParent(e),this.input=this.config.input||this.element.querySelector(r.Selector.INPUT)}return _createClass(r,null,[{key:"KEY",get:function(){return"radioButton"}},{key:"CHECKED_KEY",get:function(){return"checked-button"}},{key:"EVENT_KEY",get:function(){return"RadioButton"}},{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({input:null,parent:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:r.EVENT_KEY+"Activate",DEACTIVATE:r.EVENT_KEY+"Deactivate"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".active",CHECKED:"["+r.CHECKED_KEY+"]",DATA_TOGGLE:'[data-toggle="radio-button"]',INPUT:"input"})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!(this.element.disabled||this.element.classList.contains(r.ClassName.DISABLED)||this.element.classList.contains(r.ClassName.ACTIVE))){if(this.input){if(this.input.disabled||this.input.classList.contains(r.ClassName.DISABLED)||this.input.checked)return;this.input.checked=!0,this.input.dispatchEvent(new Event("change")),this.input.focus()}var e=this.parent.querySelector(r.Selector.CHECKED);if(e){e.classList.remove(r.ClassName.ACTIVE),e.setAttribute("aria-pressed","false"),e.removeAttribute(r.CHECKED_KEY);var t=Util.createEvent(r.Event.DEACTIVATE);e.dispatchEvent(t)}this.element.classList.add(r.ClassName.ACTIVE),this.element.setAttribute("aria-pressed","true"),this.element.setAttribute(r.CHECKED_KEY,"");var n=Util.createEvent(r.Event.ACTIVATE);this.element.dispatchEvent(n)}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}},{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(r.KEY)&&(n=e[r.KEY]),n||(n=new r(e,t),e[r.KEY]=n),n}}]),r}();function radioButton(e,t){return RadioButton.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.RadioButton||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(RadioButton.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){radioButton(e).addEventListeners()})});_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Collapse=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||r.getParent(this.element),this.target=this.config.target||r.getTarget(this.element)}return _createClass(r,null,[{key:"KEY",get:function(){return"collapse"}},{key:"COLLAPSED_KEY",get:function(){return"collapsed"}},{key:"EVENT_KEY",get:function(){return"Collapse"}},{key:"ClassName",get:function(){return Object.freeze({COLLAPSE:"collapse",COLLAPSED:"collapsed",COLLAPSING:"collapsing",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({parent:null,target:null})}},{key:"Event",get:function(){return Object.freeze({HIDE:r.EVENT_KEY+"Hide",HIDDEN:r.EVENT_KEY+"Hidden",SHOW:r.EVENT_KEY+"Show",SHOWN:r.EVENT_KEY+"Shown"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVES:".show, .collapsing",COLLAPSE:".collapse",COLLAPSED:"["+r.COLLAPSED_KEY+"]",DATA_TOGGLE:'[data-toggle="collapse"]'})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"addHoverListeners",value:function(){var t=this;this.element.addEventListener("mouseenter",function(e){return t.show(e)}),this.element.addEventListener("mouseleave",function(){return t.hide()})}},{key:"toggle",value:function(){this.target.classList.contains(r.ClassName.SHOW)?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this.element.disabled&&!this.element.classList.contains(r.ClassName.DISABLED)){var t=Util.createEvent(r.Event.SHOW);if(this.target.dispatchEvent(t),!t.defaultPrevented){if(this.parent){var n=this.parent.querySelectorAll(r.Selector.COLLAPSED);n.length&&n.forEach(function(e){if(!e.hasOwnProperty(r.KEY))return!0;e[r.KEY].hide()})}this.element.setAttribute("aria-expanded","true"),this.element.setAttribute(r.COLLAPSED_KEY,""),window.requestAnimationFrame(function(){e.target.classList.add(r.ClassName.COLLAPSING),e.target.classList.remove(r.ClassName.COLLAPSE),e.target.style.height=e.target.scrollHeight+"px"}),this.target.addEventListener("transitionend",function e(t){t.target.classList.remove(r.ClassName.COLLAPSING),t.target.classList.add(r.ClassName.COLLAPSE),t.target.classList.add(r.ClassName.SHOW);var n=Util.createEvent(r.Event.SHOWN);t.target.dispatchEvent(n),t.target.removeEventListener(t.type,e)})}}}},{key:"hide",value:function(){var e=this;if(!this.element.disabled&&!this.element.classList.contains(r.ClassName.DISABLED)){var t=Util.createEvent(r.Event.HIDE);this.target.dispatchEvent(t),t.defaultPrevented||(this.element.setAttribute("aria-expanded","false"),this.element.removeAttribute(r.COLLAPSED_KEY),window.requestAnimationFrame(function(){e.target.classList.add(r.ClassName.COLLAPSING),e.target.classList.remove(r.ClassName.COLLAPSE),e.target.style.height=null}),this.target.addEventListener("transitionend",function e(t){t.target.classList.remove(r.ClassName.COLLAPSING),t.target.classList.add(r.ClassName.COLLAPSE),t.target.classList.remove(r.ClassName.SHOW);var n=Util.createEvent(r.Event.HIDDEN);t.target.dispatchEvent(n),t.target.removeEventListener(t.type,e)}))}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t&&document.querySelector(t)}},{key:"getTarget",value:function(e){var t=Util.getSelector(e);return t&&document.querySelector(t)}},{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(r.KEY)&&(n=e[r.KEY]),n||(n=new r(e,t),e[r.KEY]=n),n}}]),r}();function collapse(e,t){return Collapse.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.Collapse||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(Collapse.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){collapse(e).addEventListeners()})});_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ESCAPE_KEYCODE=27,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,RIGHT_MOUSE_BUTTON_WHICH=3,DROPDOWN_REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE),Dropdown=function(){function o(e,t){_classCallCheck(this,o),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||o.getParent(this.element),this.menu=this.config.menu||o.getMenu(this.element,this.parent)}return _createClass(o,null,[{key:"KEY",get:function(){return"dropdown"}},{key:"DROPPED_KEY",get:function(){return"dropped"}},{key:"EVENT_KEY",get:function(){return"Dropdown"}},{key:"ClassName",get:function(){return Object.freeze({ANIMATING:"animating",DISABLED:"disabled",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({menu:null,parent:null})}},{key:"Event",get:function(){return Object.freeze({HIDE:o.EVENT_KEY+"Hide",HIDDEN:o.EVENT_KEY+"Hidden",SHOW:o.EVENT_KEY+"Show",SHOWN:o.EVENT_KEY+"Shown"})}},{key:"Selector",get:function(){return Object.freeze({DATA_HOVER:'[data-hover="dropdown"]',DATA_TOGGLE:'[data-toggle="dropdown"]',DROPPED:"["+o.DROPPED_KEY+"]",MEGA_MENU:".dropdown-mega .dropdown-menu",FORM:"form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"})}}]),_createClass(o,[{key:"addEventListeners",value:function(e){var t=this,n=e||["click","keyboard"];if(0<=n.indexOf("click")){this.element.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.toggle(e)}),this.menu.classList.contains(o.Selector.MEGA_MENU)&&this.menu.addEventListener("click",function(e){e.stopPropagation()});var r=this.parent.querySelector(o.Selector.FORM);r&&r.addEventListener("click",function(e){e.stopPropagation()})}0<=n.indexOf("keyboard")&&(this.element.addEventListener("keydown",o.keydown),this.menu.addEventListener("keydown",o.keydown)),0<=n.indexOf("hover")&&!("ontouchstart"in document.documentElement)&&(this.element.addEventListener("mouseenter",function(e){return t.toggle(e)}),this.parent.addEventListener("mouseleave",function(){return t.hide()}))}},{key:"toggle",value:function(e){if(!this.element.disabled&&!this.element.classList.contains(o.ClassName.DISABLED)){var t=this.menu.classList.contains(o.ClassName.SHOW);if(o.hideMenus(e),!t){var n={relatedTarget:this.element},r=Util.createEvent(o.Event.SHOW,n);if(this.parent.dispatchEvent(r),!r.defaultPrevented){this.element.setAttribute("aria-expanded","true"),this.element.setAttribute(o.DROPPED_KEY,""),this.menu.classList.toggle(o.ClassName.SHOW),this.parent.classList.toggle(o.ClassName.SHOW);var a=Util.createEvent(o.Event.SHOWN,n);this.parent.dispatchEvent(a)}}}}},{key:"hide",value:function(){if(this.menu.classList.contains(o.ClassName.SHOW)){var e={relatedTarget:this.element},t=Util.createEvent(o.Event.HIDE,e);if(this.parent.dispatchEvent(t),!t.defaultPrevented){this.element.setAttribute("aria-expanded","false"),this.element.removeAttribute(o.DROPPED_KEY),this.menu.classList.remove(o.ClassName.SHOW),this.parent.classList.remove(o.ClassName.SHOW);var n=Util.createEvent(o.Event.HIDDEN,e);this.parent.dispatchEvent(n)}}}},{key:"getConfig",value:function(e){return e=Object.assign({},o.Default,e)}}],[{key:"hideMenus",value:function(s){if(!s||s.which!==RIGHT_MOUSE_BUTTON_WHICH&&("keyup"!==s.type||s.which===TAB_KEYCODE)){var e=document.querySelectorAll(o.Selector.DROPPED);e.length&&e.forEach(function(e){if(!e.hasOwnProperty(o.KEY))return!0;var t=e[o.KEY].menu,n=e[o.KEY].parent;if(!n.classList.contains(o.ClassName.SHOW))return!0;if(s&&s.target!==e&&n.contains(s.target))return!0;if(s&&("click"===s.type&&/input|textarea/i.test(s.target.tagName)||"keyup"===s.type&&s.which===TAB_KEYCODE)&&n.contains(s.target))return!0;var r={relatedTarget:e},a=Util.createEvent(o.Event.HIDE,r);if(n.dispatchEvent(a),a.defaultPrevented)return!0;e.setAttribute("aria-expanded","false"),e.removeAttribute(o.DROPPED_KEY),t.classList.remove(o.ClassName.SHOW),n.classList.remove(o.ClassName.SHOW);var i=Util.createEvent(o.Event.HIDDEN,r);n.dispatchEvent(i)})}}},{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}},{key:"getMenu",value:function(e,t){var n=Util.getSelector(e);return n?document.querySelector(n):t.querySelector(o.Selector.MENU)}},{key:"keydown",value:function(e){if(!(!DROPDOWN_REGEXP_KEYDOWN.test(e.which)||/button/i.test(e.target.tagName)&&e.which===SPACE_KEYCODE||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||this.classList.contains(o.ClassName.DISABLED)))){var t=o.getParent(this),n=t.classList.contains(o.ClassName.SHOW);if((n||e.which===ESCAPE_KEYCODE&&e.which===SPACE_KEYCODE)&&(!n||e.which!==ESCAPE_KEYCODE&&e.which!==SPACE_KEYCODE)){var r=Array.prototype.slice.call(t.querySelectorAll(o.Selector.VISIBLE_ITEMS));if(r.length){var a=r.indexOf(e.target);e.which===ARROW_UP_KEYCODE&&0<a&&a--,e.which===ARROW_DOWN_KEYCODE&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}else{e.which===ESCAPE_KEYCODE&&t.querySelector(o.Selector.DATA_TOGGLE).dispatchEvent(new FocusEvent("focus")),this.dispatchEvent(new MouseEvent("click"))}}}},{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(o.KEY)&&(n=e[o.KEY]),n||(n=new o(e,t),e[o.KEY]=n),n}}]),o}();function dropdown(e,t){return Dropdown.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.Dropdown||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(Dropdown.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){dropdown(e).addEventListeners()});var t=document.querySelectorAll(Dropdown.Selector.DATA_HOVER);t.length&&t.forEach(function(e){dropdown(e).addEventListeners(["hover"])}),document.addEventListener("click",Dropdown.hideMenus),document.addEventListener("keyup",Dropdown.hideMenus)});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ScrollSpy=function(){function s(e,t){var n=this;_classCallCheck(this,s),this.element=e,this.scrollElement="BODY"===e.tagName?window:e,this.config=this.getConfig(t),this.target=document.querySelector(this.config.target),this.selector=this.config.target+" "+s.Selector.NAV_LINK+","+this.config.target+" "+s.Selector.LIST_ITEM+","+this.config.target+" "+s.Selector.DROPDOWN_ITEM,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.scrollElement.addEventListener("scroll",function(e){return n.process(e)}),this.refresh(),this.process()}return _createClass(s,null,[{key:"KEY",get:function(){return"scrollSpy"}},{key:"EVENT_KEY",get:function(){return"ScrollSpy"}},{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({offset:10,method:"auto",target:""})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:s.EVENT_KEY+"Activate"})}},{key:"OffsetMethod",get:function(){return Object.freeze({OFFSET:"offset",POSITION:"position"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".active",DATA_SPY:'[data-spy="scroll"]',DROPDOWN:".dropdown",DROPDOWN_ITEM:".dropdown-item",DROPDOWN_MENU:".dropdown-menu",DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWNS:".dropup, .dropright, .dropdown, .dropleft",HIDE:".hide",LIST_ITEM:".list-group-item",NAV_ITEM:".nav-item",NAV_LINK:".nav-link",NAV_LIST_GROUP:".nav, .list-group",SHOW:".show"})}}]),_createClass(s,[{key:"refresh",value:function(){var t=this,e=this.scrollElement!==this.scrollElement.window?s.OffsetMethod.POSITION:s.OffsetMethod.OFFSET,a="auto"===this.config.method?e:this.config.method,i=a===s.OffsetMethod.POSITION?this.getScrollTop():0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),Array.prototype.slice.call(document.querySelectorAll(this.selector)).map(function(e){var t=void 0,n=Util.getSelector(e);if(n&&(t=document.querySelector(n)),t){var r=t.getBoundingClientRect();if(r.width||r.height)return[t[a]().top+i,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t.offsets.push(e[0]),t.targets.push(e[1])})}},{key:"getConfig",value:function(e){return e=Object.assign({},s.Default,e)}},{key:"getScrollTop",value:function(){return this.scrollElement===window?this.scrollElement.pageYOffset:this.scrollElement.scrollTop}},{key:"getScrollHeight",value:function(){return this.scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){return this.scrollElement===window?window.innerHeight:this.scrollElement.getBoundingClientRect().height}},{key:"process",value:function(){var e=this.getScrollTop()+this.config.offset,t=this.getScrollHeight(),n=this.config.offset+t-this.getOffsetHeight();if(this.scrollHeight!==t&&this.refresh(),n<=e){var r=this.targets[this.targets.length-1];this.activeTarget!==r&&this.activate(r)}else{if(this.activeTarget&&e<this.offsets[0]&&0<this.offsets[0])return this.activeTarget=null,void this.clear();for(var a=this.offsets.length;a--;){this.activeTarget!==this.targets[a]&&e>=this.offsets[a]&&(void 0===this.offsets[a+1]||e<this.offsets[a+1])&&this.activate(this.targets[a])}}}},{key:"activate",value:function(t){this.activeTarget=t,this.clear();var e=this.selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=this.target.querySelector(e.join(","));if(n.classList.contains(s.ClassName.DROPDOWN_ITEM)){var r=n.parentAll(s.Selector.DROPDOWNS+", "+s.Selector.DROPDOWN_MENU,this.config.target);r.length&&r.forEach(function(e){e.classList.add(s.ClassName.SHOW)})}else if(n.classList.contains(s.ClassName.NAV_LINK)){var a=n.parentAll(s.Selector.NAV_ITEM,this.config.target);a.length&&a.forEach(function(e){e.classList.add(s.ClassName.SHOW)})}n.classList.add(s.ClassName.ACTIVE);var i=Util.createEvent(s.Event.ACTIVATE,{relatedTarget:t});this.scrollElement.dispatchEvent(i)}},{key:"clear",value:function(){var e=this.target.querySelector(s.Selector.ACTIVE);if(e&&(e.classList.remove(s.ClassName.ACTIVE),e.classList.contains(s.ClassName.NAV_LINK)||e.classList.contains(s.ClassName.DROPDOWN_ITEM))){var t=e.parentAll(s.Selector.SHOW,this.config.target);t.length&&t.forEach(function(e){e.classList.remove(s.ClassName.SHOW)})}}}],[{key:"init",value:function(e,t){var n=null;(e.hasOwnProperty(s.KEY)&&(n=e[s.KEY]),n)||(n=new s(e,"object"===(void 0===t?"undefined":_typeof(t))&&t),e[s.KEY]=n);return n}}]),s}();function scrollSpy(e,t){return ScrollSpy.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.ScrollSpy||document.addEventListener("DOMContentLoaded",function(){window.addEventListener("load",function(){var e=document.querySelectorAll(ScrollSpy.Selector.DATA_SPY);e.length&&e.forEach(function(e){scrollSpy(e,e.dataset)})})});